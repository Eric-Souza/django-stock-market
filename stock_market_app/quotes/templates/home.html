{% extends 'base.html' %} 
{% block content %} 

{% if ticker %}
  {{ ticker }}
{% endif %}

  {% if api %} 
    {% if api == 'Error...' %} 
      There was a problem with your ticker symbol, please try again. 

      {% else %} 
        <h1>{{ api.companyName }}</h1> <br />

        Price: ${{ api.latestPrice }} <br />
        Previous Close: {{ api.previousClose }} <br />
        Market Cap: {{ api.marketCap }} <br />
        Year to Date Change: {{ api.ydtChange }} <br />
        52 Week High: {{ api.week52High }} <br />
        52 Week Low: {{ api.week52Low }} <br />
    {% endif %} 
  {% else %}
    <h1>Companies</h1> <br />

    <table class="table table-striped table-hover table-bordered">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Stock Symbol</th>
          <th scope="col">Company Name</th>
          <th scope="col">Company Industry</th>
        </tr>
      </thead>

      <tbody>
        {% if companies_data %}
            {% for company in companies_data %}
                <tr name="ticker">
                  <th scope="row">{{ company.ticker }}</th>
                  <td>{{ company.name }}</td>
                  <td>{{ company.industry }}</td>
                </tr>
            {% endfor %}
        {% endif %}
      </tbody>
    </table>
  {% endif %} 
{% endblock %}
